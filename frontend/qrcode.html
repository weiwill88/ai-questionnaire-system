<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é—®å·äºŒç»´ç  - AIåº”ç”¨éœ€æ±‚è°ƒç ”</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
    <style>
        @keyframes pulse-slow {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        .qr-container {
            animation: pulse-slow 3s ease-in-out infinite;
        }
        @media print {
            body * { visibility: hidden; }
            #printArea, #printArea * { visibility: visible; }
            #printArea { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 min-h-screen p-6">
    
    <!-- æ™®é€šæ¨¡å¼ -->
    <div id="normalMode" class="max-w-4xl mx-auto">
        
        <!-- é¡¶éƒ¨æ ‡é¢˜æ  -->
        <div class="bg-white rounded-2xl shadow-lg p-6 mb-6">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent">
                        ğŸ“± é—®å·äºŒç»´ç ç”Ÿæˆå™¨
                    </h1>
                    <p class="text-gray-600 mt-1">AIåº”ç”¨éœ€æ±‚è°ƒç ” - ä¸Šæµ·äº¤é€šå¤§å­¦é«˜çº§é‡‘èå­¦é™¢</p>
                </div>
                <div class="text-right">
                    <div class="text-sm text-gray-500">Session</div>
                    <div class="text-lg font-bold text-indigo-600">SJTU_SAIF_PROD</div>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            
            <!-- å·¦ä¾§ï¼šäºŒç»´ç å±•ç¤º -->
            <div class="lg:col-span-2">
                <div class="bg-white rounded-2xl shadow-lg p-8">
                    
                    <!-- äºŒç»´ç åŒºåŸŸ -->
                    <div class="flex flex-col items-center space-y-6">
                        
                        <!-- å°ºå¯¸é€‰æ‹© -->
                        <div class="w-full flex items-center justify-between bg-gray-50 rounded-lg p-4">
                            <span class="text-sm font-medium text-gray-700">äºŒç»´ç å°ºå¯¸ï¼š</span>
                            <div class="flex gap-2">
                                <button onclick="changeSize(200)" class="size-btn px-3 py-1 text-xs rounded bg-gray-200 hover:bg-blue-500 hover:text-white transition">å°</button>
                                <button onclick="changeSize(280)" class="size-btn px-3 py-1 text-xs rounded bg-blue-500 text-white">ä¸­</button>
                                <button onclick="changeSize(360)" class="size-btn px-3 py-1 text-xs rounded bg-gray-200 hover:bg-blue-500 hover:text-white transition">å¤§</button>
                                <button onclick="changeSize(480)" class="size-btn px-3 py-1 text-xs rounded bg-gray-200 hover:bg-blue-500 hover:text-white transition">è¶…å¤§</button>
                            </div>
                        </div>

                        <!-- äºŒç»´ç  -->
                        <div id="qrcodeContainer" class="qr-container bg-white p-8 rounded-2xl border-4 border-blue-500 shadow-2xl">
                            <div id="qrcode"></div>
                        </div>

                        <!-- URLæ˜¾ç¤º -->
                        <div class="w-full bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 border-2 border-blue-200">
                            <p class="text-sm font-medium text-gray-700 mb-2">ğŸ“ é—®å·é“¾æ¥ï¼š</p>
                            <div class="flex items-center gap-2">
                                <input 
                                    type="text" 
                                    id="urlInput" 
                                    value="http://106.54.62.229/" 
                                    readonly 
                                    class="flex-1 px-4 py-2 bg-white border-2 border-blue-300 rounded-lg text-sm font-mono"
                                >
                                <button 
                                    onclick="copyUrl()" 
                                    class="px-5 py-2 bg-gradient-to-r from-blue-500 to-indigo-500 text-white rounded-lg hover:from-blue-600 hover:to-indigo-600 transition text-sm font-medium shadow-md whitespace-nowrap"
                                >
                                    ğŸ“‹ å¤åˆ¶
                                </button>
                            </div>
                        </div>

                        <!-- è®¿é—®ç»Ÿè®¡ï¼ˆå¯é€‰ï¼‰ -->
                        <div class="w-full grid grid-cols-3 gap-3">
                            <div class="bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg p-4 text-center border border-green-200">
                                <div class="text-2xl font-bold text-green-600" id="scanCount">-</div>
                                <div class="text-xs text-gray-600 mt-1">é¢„è®¡æ‰«ç </div>
                            </div>
                            <div class="bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg p-4 text-center border border-blue-200">
                                <div class="text-2xl font-bold text-blue-600">2-3min</div>
                                <div class="text-xs text-gray-600 mt-1">å¡«å†™æ—¶é•¿</div>
                            </div>
                            <div class="bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg p-4 text-center border border-purple-200">
                                <div class="text-2xl font-bold text-purple-600">10é¢˜</div>
                                <div class="text-xs text-gray-600 mt-1">é—®å·é¢˜æ•°</div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <!-- å³ä¾§ï¼šåŠŸèƒ½é¢æ¿ -->
            <div class="space-y-6">
                
                <!-- æ“ä½œæŒ‰é’® -->
                <div class="bg-white rounded-2xl shadow-lg p-6">
                    <h3 class="text-lg font-bold text-gray-900 mb-4">âš¡ å¿«æ·æ“ä½œ</h3>
                    <div class="space-y-3">
                        <button 
                            onclick="downloadQR()" 
                            class="w-full px-4 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg hover:from-green-600 hover:to-emerald-600 transition font-medium shadow-md flex items-center justify-center gap-2"
                        >
                            <span class="text-xl">ğŸ’¾</span>
                            <span>ä¸‹è½½äºŒç»´ç å›¾ç‰‡</span>
                        </button>
                        
                        <button 
                            onclick="printQR()" 
                            class="w-full px-4 py-3 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-lg hover:from-blue-600 hover:to-cyan-600 transition font-medium shadow-md flex items-center justify-center gap-2"
                        >
                            <span class="text-xl">ğŸ–¨ï¸</span>
                            <span>æ‰“å°äºŒç»´ç </span>
                        </button>
                        
                        <button 
                            onclick="toggleFullscreen()" 
                            class="w-full px-4 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition font-medium shadow-md flex items-center justify-center gap-2"
                        >
                            <span class="text-xl">ğŸ–¥ï¸</span>
                            <span>å…¨å±æŠ•å½±æ¨¡å¼</span>
                        </button>
                    </div>
                </div>

                <!-- ä½¿ç”¨è¯´æ˜ -->
                <div class="bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl shadow-lg p-6 border-2 border-blue-200">
                    <h3 class="font-bold text-blue-900 mb-3 flex items-center gap-2">
                        <span class="text-xl">ğŸ’¡</span>
                        <span>ä½¿ç”¨è¯´æ˜</span>
                    </h3>
                    <ul class="text-sm text-blue-800 space-y-2">
                        <li class="flex items-start gap-2">
                            <span class="text-blue-500 mt-0.5">â–¸</span>
                            <span>ä½¿ç”¨å¾®ä¿¡/æµè§ˆå™¨æ‰«æäºŒç»´ç å¡«å†™é—®å·</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-blue-500 mt-0.5">â–¸</span>
                            <span>ä¸‹è½½å›¾ç‰‡åå¯æ’å…¥PPTæˆ–æ‰“å°å±•ç¤º</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-blue-500 mt-0.5">â–¸</span>
                            <span>å…¨å±æ¨¡å¼é€‚åˆæ¼”è®²æ—¶æŠ•å½±å±•ç¤º</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-blue-500 mt-0.5">â–¸</span>
                            <span>æ”¯æŒå¤šäººåŒæ—¶æ‰«ç ï¼Œå®æ—¶æäº¤</span>
                        </li>
                    </ul>
                </div>

                <!-- æŠ€æœ¯ä¿¡æ¯ -->
                <div class="bg-white rounded-2xl shadow-lg p-6">
                    <h3 class="font-bold text-gray-900 mb-3 flex items-center gap-2">
                        <span class="text-xl">ğŸ”§</span>
                        <span>æŠ€æœ¯ä¿¡æ¯</span>
                    </h3>
                    <div class="text-xs text-gray-600 space-y-2">
                        <div class="flex justify-between">
                            <span>æ‰˜ç®¡æ–¹å¼ï¼š</span>
                            <span class="font-medium text-gray-900">è…¾è®¯äº‘æœåŠ¡å™¨</span>
                        </div>
                        <div class="flex justify-between">
                            <span>æ•°æ®å­˜å‚¨ï¼š</span>
                            <span class="font-medium text-gray-900">Supabaseäº‘ç«¯</span>
                        </div>
                        <div class="flex justify-between">
                            <span>è®¿é—®åè®®ï¼š</span>
                            <span class="font-medium text-gray-900">HTTP</span>
                        </div>
                        <div class="flex justify-between">
                            <span>äºŒç»´ç å®¹é”™ï¼š</span>
                            <span class="font-medium text-gray-900">é«˜ (30%)</span>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- å…¨å±æŠ•å½±æ¨¡å¼ -->
    <div id="fullscreenMode" class="hidden fixed inset-0 bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-600 z-50 flex flex-col items-center justify-center p-8">
        
        <!-- é€€å‡ºæŒ‰é’® -->
        <button 
            onclick="toggleFullscreen()" 
            class="absolute top-8 right-8 px-6 py-3 bg-white/20 backdrop-blur-sm text-white rounded-xl hover:bg-white/30 transition border-2 border-white/50 text-lg font-medium shadow-xl"
        >
            âœ• é€€å‡ºå…¨å±
        </button>
        
        <!-- å†…å®¹åŒº -->
        <div class="text-center text-white mb-12">
            <div class="text-6xl font-bold mb-4 drop-shadow-lg">æ‰«ç å¡«å†™é—®å·</div>
            <div class="text-3xl mb-2 opacity-90">AIåº”ç”¨éœ€æ±‚è°ƒç ”</div>
            <div class="text-xl opacity-75">ä¸Šæµ·äº¤é€šå¤§å­¦é«˜çº§é‡‘èå­¦é™¢ MBA è¯¾ç¨‹</div>
        </div>
        
        <!-- å¤§å·äºŒç»´ç  -->
        <div class="bg-white p-12 rounded-3xl shadow-2xl border-8 border-white/50">
            <div id="qrcodeFullscreen"></div>
        </div>
        
        <!-- åº•éƒ¨æç¤º -->
        <div class="mt-12 text-center">
            <div class="inline-flex items-center gap-3 bg-white/20 backdrop-blur-sm px-8 py-4 rounded-full border-2 border-white/50">
                <span class="text-white text-2xl">â±</span>
                <span class="text-white text-xl font-medium">å¡«å†™æ—¶é—´çº¦ 2-3 åˆ†é’Ÿ</span>
            </div>
        </div>
    </div>

    <!-- æ‰“å°åŒºåŸŸï¼ˆéšè—ï¼‰ -->
    <div id="printArea" class="hidden">
        <div style="text-align: center; padding: 40px;">
            <h1 style="font-size: 32px; margin-bottom: 20px; color: #1e40af;">AIåº”ç”¨éœ€æ±‚è°ƒç ”é—®å·</h1>
            <p style="font-size: 18px; margin-bottom: 30px; color: #6b7280;">ä¸Šæµ·äº¤é€šå¤§å­¦é«˜çº§é‡‘èå­¦é™¢ MBA è¯¾ç¨‹</p>
            <div id="qrcodePrint" style="display: inline-block;"></div>
            <p style="font-size: 16px; margin-top: 30px; color: #4b5563;">æ‰«ç å¡«å†™é—®å· Â· å¡«å†™æ—¶é—´çº¦2-3åˆ†é’Ÿ</p>
            <p style="font-size: 14px; margin-top: 10px; color: #9ca3af;">http://106.54.62.229/</p>
        </div>
    </div>

    <script>
        const url = 'http://106.54.62.229/';
        let currentSize = 280;
        let qrNormal, qrFullscreen, qrPrint;
        
        // åˆå§‹åŒ–äºŒç»´ç 
        function initQRCodes() {
            // æ¸…ç©ºå®¹å™¨
            document.getElementById('qrcode').innerHTML = '';
            document.getElementById('qrcodeFullscreen').innerHTML = '';
            document.getElementById('qrcodePrint').innerHTML = '';
            
            // ç”Ÿæˆæ™®é€šäºŒç»´ç 
            qrNormal = new QRCode(document.getElementById("qrcode"), {
                text: url,
                width: currentSize,
                height: currentSize,
                colorDark: "#1e40af",
                colorLight: "#ffffff",
                correctLevel: QRCode.CorrectLevel.H
            });
            
            // ç”Ÿæˆå…¨å±äºŒç»´ç 
            qrFullscreen = new QRCode(document.getElementById("qrcodeFullscreen"), {
                text: url,
                width: 450,
                height: 450,
                colorDark: "#1e40af",
                colorLight: "#ffffff",
                correctLevel: QRCode.CorrectLevel.H
            });
            
            // ç”Ÿæˆæ‰“å°äºŒç»´ç 
            qrPrint = new QRCode(document.getElementById("qrcodePrint"), {
                text: url,
                width: 400,
                height: 400,
                colorDark: "#000000",
                colorLight: "#ffffff",
                correctLevel: QRCode.CorrectLevel.H
            });
        }
        
        // åˆå§‹åŒ–
        window.onload = function() {
            initQRCodes();
            // æ¨¡æ‹Ÿæ‰«ç æ•°ï¼ˆå¯ä»¥è¿æ¥å®é™…APIï¼‰
            document.getElementById('scanCount').textContent = Math.floor(Math.random() * 50) + 20;
        };
        
        // æ”¹å˜å°ºå¯¸
        function changeSize(size) {
            currentSize = size;
            initQRCodes();
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.size-btn').forEach(btn => {
                btn.classList.remove('bg-blue-500', 'text-white');
                btn.classList.add('bg-gray-200');
            });
            event.target.classList.add('bg-blue-500', 'text-white');
            event.target.classList.remove('bg-gray-200');
        }
        
        // å¤åˆ¶URL
        function copyUrl() {
            const input = document.getElementById('urlInput');
            input.select();
            document.execCommand('copy');
            
            // æç¤º
            const btn = event.target;
            const originalText = btn.innerHTML;
            btn.innerHTML = 'âœ… å·²å¤åˆ¶';
            btn.classList.add('bg-green-500');
            
            setTimeout(() => {
                btn.innerHTML = originalText;
                btn.classList.remove('bg-green-500');
            }, 2000);
        }
        
        // ä¸‹è½½äºŒç»´ç 
        function downloadQR() {
            const qrCanvas = document.querySelector('#qrcode canvas');
            if (qrCanvas) {
                const link = document.createElement('a');
                link.download = `é—®å·äºŒç»´ç -SJTU-SAIF-${currentSize}px.png`;
                link.href = qrCanvas.toDataURL();
                link.click();
                
                // æç¤º
                alert('âœ… äºŒç»´ç å·²ä¸‹è½½ï¼æ–‡ä»¶åï¼š' + link.download);
            }
        }
        
        // æ‰“å°äºŒç»´ç 
        function printQR() {
            window.print();
        }
        
        // åˆ‡æ¢å…¨å±
        function toggleFullscreen() {
            const normal = document.getElementById('normalMode');
            const fullscreen = document.getElementById('fullscreenMode');
            
            if (fullscreen.classList.contains('hidden')) {
                normal.classList.add('hidden');
                fullscreen.classList.remove('hidden');
            } else {
                fullscreen.classList.add('hidden');
                normal.classList.remove('hidden');
            }
        }
        
        // ESCé”®é€€å‡ºå…¨å±
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                document.getElementById('fullscreenMode').classList.add('hidden');
                document.getElementById('normalMode').classList.remove('hidden');
            }
        });
    </script>
</body>
</html>
